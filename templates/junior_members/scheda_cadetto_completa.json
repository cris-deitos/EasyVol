{
  "name": "Scheda Cadetto Completa",
  "description": "Scheda dettagliata del cadetto con dati anagrafici, genitori/tutori e contatti",
  "type": "single",
  "format": "A4",
  "orientation": "portrait",
  "margins": {
    "top": 15,
    "bottom": 15,
    "left": 15,
    "right": 15
  },
  "relations": {
    "guardians": {
      "table": "junior_member_guardians",
      "foreign_key": "junior_member_id"
    },
    "contacts": {
      "table": "junior_member_contacts",
      "foreign_key": "junior_member_id"
    },
    "addresses": {
      "table": "junior_member_addresses",
      "foreign_key": "junior_member_id"
    },
    "health": {
      "table": "junior_member_health",
      "foreign_key": "junior_member_id"
    }
  },
  "html": "<div style=\"font-family: Arial, sans-serif; font-size: 10pt;\">\n  <!-- Header -->\n  <div style=\"text-align: center; border-bottom: 3px solid #333; padding-bottom: 0.5cm; margin-bottom: 1cm;\">\n    {{#if association.logo_path}}\n    <img src=\"{{association.logo_path}}\" style=\"height: 50px; margin-bottom: 10px;\" />\n    {{/if}}\n    <h1 style=\"margin: 0; font-size: 16pt;\">{{association.name}}</h1>\n    <p style=\"margin: 5px 0; font-size: 9pt;\">{{association.address}} - {{association.city}}</p>\n  </div>\n\n  <!-- Title -->\n  <h2 style=\"text-align: center; color: #1976d2; border-bottom: 2px solid #1976d2; padding-bottom: 0.3cm; margin-bottom: 0.8cm;\">SCHEDA CADETTO</h2>\n\n  <!-- Dati Anagrafici -->\n  <h3 style=\"background: #1976d2; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">DATI ANAGRAFICI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #e3f2fd;\"><strong>Matricola:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{registration_number}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #e3f2fd;\"><strong>Stato:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{member_status}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Cognome:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{last_name}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Nome:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{first_name}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Codice Fiscale:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{tax_code}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Sesso:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{gender}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Data di Nascita:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{birth_date}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Luogo di Nascita:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{birth_place}} ({{birth_province}})</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Data Iscrizione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{registration_date}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #e3f2fd;\"><strong>Nazionalit√†:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{nationality}}</td>\n    </tr>\n  </table>\n\n  <!-- Genitori/Tutori -->\n  {{#if guardians}}\n  <h3 style=\"background: #1976d2; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">GENITORI / TUTORI</h3>\n  {{#each guardians}}\n  <div style=\"border: 1px solid #1976d2; padding: 10px; margin-bottom: 10px; background: #e3f2fd;\">\n    <table style=\"width: 100%; border-collapse: collapse;\">\n      <tr>\n        <td style=\"padding: 3px; width: 30%;\"><strong>Tipo:</strong></td>\n        <td style=\"padding: 3px;\">{{guardian_type}}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px;\"><strong>Nome Completo:</strong></td>\n        <td style=\"padding: 3px;\">{{first_name}} {{last_name}}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px;\"><strong>Codice Fiscale:</strong></td>\n        <td style=\"padding: 3px;\">{{tax_code}}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px;\"><strong>Telefono:</strong></td>\n        <td style=\"padding: 3px;\">{{phone}}</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 3px;\"><strong>Email:</strong></td>\n        <td style=\"padding: 3px;\">{{email}}</td>\n      </tr>\n    </table>\n  </div>\n  {{/each}}\n  {{/if}}\n\n  <!-- Contatti -->\n  {{#if contacts}}\n  <h3 style=\"background: #1976d2; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">CONTATTI DEL CADETTO</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <thead>\n      <tr style=\"background: #e3f2fd;\">\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Tipo</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Valore</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: center;\">Principale</th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each contacts}}\n      <tr>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{contact_type}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{contact_value}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px; text-align: center;\">{{is_primary}}</td>\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n  {{/if}}\n\n  <!-- Indirizzi -->\n  {{#if addresses}}\n  <h3 style=\"background: #1976d2; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">INDIRIZZI</h3>\n  {{#each addresses}}\n  <div style=\"border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fafafa;\">\n    <p style=\"margin: 0;\"><strong>{{address_type}}:</strong></p>\n    <p style=\"margin: 5px 0;\">{{street_address}}, {{postal_code}} {{city}} ({{province}})</p>\n    {{#if country}}<p style=\"margin: 0;\">Paese: {{country}}</p>{{/if}}\n  </div>\n  {{/each}}\n  {{/if}}\n\n  <!-- Salute -->\n  {{#if health}}\n  <h3 style=\"background: #d32f2f; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">INFORMAZIONI SANITARIE</h3>\n  {{#each health}}\n  <div style=\"border: 1px solid #d32f2f; padding: 10px; margin-bottom: 10px; background: #ffebee;\">\n    {{#if allergies}}<p style=\"margin: 3px 0;\"><strong>Allergie:</strong> {{allergies}}</p>{{/if}}\n    {{#if dietary_restrictions}}<p style=\"margin: 3px 0;\"><strong>Restrizioni Alimentari:</strong> {{dietary_restrictions}}</p>{{/if}}\n    {{#if medical_conditions}}<p style=\"margin: 3px 0;\"><strong>Condizioni Mediche:</strong> {{medical_conditions}}</p>{{/if}}\n    {{#if medications}}<p style=\"margin: 3px 0;\"><strong>Farmaci:</strong> {{medications}}</p>{{/if}}\n    {{#if blood_type}}<p style=\"margin: 3px 0;\"><strong>Gruppo Sanguigno:</strong> {{blood_type}}</p>{{/if}}\n  </div>\n  {{/each}}\n  {{/if}}\n\n  <!-- Footer -->\n  <div style=\"position: fixed; bottom: 10mm; left: 15mm; right: 15mm; text-align: center; font-size: 8pt; color: #666; border-top: 1px solid #ccc; padding-top: 5px;\">\n    <p style=\"margin: 0;\">{{association.name}} - {{association.website}}</p>\n    <p style=\"margin: 0;\">Documento generato il {{current_date}}</p>\n  </div>\n</div>",
  "css": "@page {\n  size: A4 portrait;\n  margin: 0;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n@media print {\n  body {\n    margin: 0;\n  }\n}"
}
