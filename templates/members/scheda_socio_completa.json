{
  "name": "Scheda Socio Completa",
  "description": "Scheda dettagliata del socio con dati anagrafici, contatti, indirizzi e corsi",
  "type": "single",
  "format": "A4",
  "orientation": "portrait",
  "margins": {
    "top": 15,
    "bottom": 15,
    "left": 15,
    "right": 15
  },
  "relations": {
    "contacts": {
      "table": "member_contacts",
      "foreign_key": "member_id"
    },
    "addresses": {
      "table": "member_addresses",
      "foreign_key": "member_id"
    },
    "courses": {
      "table": "member_courses",
      "foreign_key": "member_id",
      "order_by": "completion_date DESC"
    },
    "licenses": {
      "table": "member_licenses",
      "foreign_key": "member_id"
    }
  },
  "html": "<div style=\"font-family: Arial, sans-serif; font-size: 10pt;\">\n  <!-- Header -->\n  <div style=\"text-align: center; border-bottom: 3px solid #333; padding-bottom: 0.5cm; margin-bottom: 1cm;\">\n    {{#if association.logo_path}}\n    <img src=\"{{association.logo_path}}\" style=\"height: 50px; margin-bottom: 10px;\" />\n    {{/if}}\n    <h1 style=\"margin: 0; font-size: 16pt;\">{{association.name}}</h1>\n    <p style=\"margin: 5px 0; font-size: 9pt;\">{{association.address}} - {{association.city}}</p>\n    <p style=\"margin: 5px 0; font-size: 9pt;\">Tel: {{association.phone}} - Email: {{association.email}}</p>\n  </div>\n\n  <!-- Title -->\n  <h2 style=\"text-align: center; color: #d32f2f; border-bottom: 2px solid #d32f2f; padding-bottom: 0.3cm; margin-bottom: 0.8cm;\">SCHEDA VOLONTARIO</h2>\n\n  <!-- Classification Box -->\n  <div style=\"position: absolute; right: 15mm; top: 60mm; border: 2px solid #333; padding: 10px; text-align: center; background: #f5f5f5;\">\n    <strong style=\"font-size: 9pt;\">CLASSIFICAZIONE SOCIO:</strong><br>\n    <span style=\"font-size: 11pt; font-weight: bold;\">{{member_type}}</span>\n  </div>\n\n  <!-- Dati Anagrafici -->\n  <h3 style=\"background: #333; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">DATI ANAGRAFICI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #f5f5f5;\"><strong>Matricola:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{registration_number}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #f5f5f5;\"><strong>Stato:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{member_status}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Cognome:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{last_name}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Nome:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{first_name}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Codice Fiscale:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{tax_code}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Sesso:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{gender}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Data di Nascita:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{birth_date}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Luogo di Nascita:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{birth_place}} ({{birth_province}})</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Nazionalit√†:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{nationality}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #f5f5f5;\"><strong>Data Iscrizione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{registration_date}}</td>\n    </tr>\n  </table>\n\n  <!-- Contatti -->\n  {{#if contacts}}\n  <h3 style=\"background: #333; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">CONTATTI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <thead>\n      <tr style=\"background: #e0e0e0;\">\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Tipo</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Valore</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Principale</th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each contacts}}\n      <tr>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{contact_type}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{contact_value}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px; text-align: center;\">{{is_primary}}</td>\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n  {{/if}}\n\n  <!-- Indirizzi -->\n  {{#if addresses}}\n  <h3 style=\"background: #333; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">INDIRIZZI</h3>\n  {{#each addresses}}\n  <div style=\"border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fafafa;\">\n    <p style=\"margin: 0;\"><strong>{{address_type}}:</strong></p>\n    <p style=\"margin: 5px 0;\">{{street_address}}, {{postal_code}} {{city}} ({{province}})</p>\n    {{#if country}}<p style=\"margin: 0;\">Paese: {{country}}</p>{{/if}}\n  </div>\n  {{/each}}\n  {{/if}}\n\n  <!-- Patenti -->\n  {{#if licenses}}\n  <h3 style=\"background: #333; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">PATENTI E ABILITAZIONI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <thead>\n      <tr style=\"background: #e0e0e0;\">\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Tipo</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Numero</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Rilascio</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Scadenza</th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each licenses}}\n      <tr>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{license_type}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{license_number}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{issue_date}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{expiry_date}}</td>\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n  {{/if}}\n\n  <!-- Corsi -->\n  {{#if courses}}\n  <h3 style=\"background: #333; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">FORMAZIONE E CORSI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <thead>\n      <tr style=\"background: #e0e0e0;\">\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">#</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Corso</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Completamento</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Ente</th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each courses}}\n      <tr>\n        <td style=\"border: 1px solid #ccc; padding: 5px; text-align: center;\">{{@index}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{course_name}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{completion_date}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{issuing_body}}</td>\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n  {{/if}}\n\n  <!-- Footer -->\n  <div style=\"position: fixed; bottom: 10mm; left: 15mm; right: 15mm; text-align: center; font-size: 8pt; color: #666; border-top: 1px solid #ccc; padding-top: 5px;\">\n    <p style=\"margin: 0;\">{{association.name}} - {{association.website}}</p>\n    <p style=\"margin: 0;\">Documento generato il {{current_date}}</p>\n  </div>\n</div>",
  "css": "@page {\n  size: A4 portrait;\n  margin: 0;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n@media print {\n  body {\n    margin: 0;\n  }\n  \n  .page-break {\n    page-break-after: always;\n  }\n}"
}
