{
  "name": "Scheda Mezzo Completa",
  "description": "Scheda dettagliata del mezzo con dati tecnici, manutenzioni e documenti",
  "type": "single",
  "format": "A4",
  "orientation": "portrait",
  "margins": {
    "top": 15,
    "bottom": 15,
    "left": 15,
    "right": 15
  },
  "relations": {
    "maintenance": {
      "table": "vehicle_maintenance",
      "foreign_key": "vehicle_id",
      "order_by": "maintenance_date DESC"
    },
    "documents": {
      "table": "vehicle_documents",
      "foreign_key": "vehicle_id"
    }
  },
  "html": "<div style=\"font-family: Arial, sans-serif; font-size: 10pt;\">\n  <!-- Header -->\n  <div style=\"text-align: center; border-bottom: 3px solid #333; padding-bottom: 0.5cm; margin-bottom: 1cm;\">\n    {{#if association.logo_path}}\n    <img src=\"{{association.logo_path}}\" style=\"height: 50px; margin-bottom: 10px;\" />\n    {{/if}}\n    <h1 style=\"margin: 0; font-size: 16pt;\">{{association.name}}</h1>\n    <p style=\"margin: 5px 0; font-size: 9pt;\">{{association.address}} - {{association.city}}</p>\n  </div>\n\n  <!-- Title -->\n  <h2 style=\"text-align: center; color: #ff6f00; border-bottom: 2px solid #ff6f00; padding-bottom: 0.3cm; margin-bottom: 0.8cm;\">SCHEDA MEZZO</h2>\n\n  <!-- Dati Identificativi -->\n  <h3 style=\"background: #ff6f00; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">DATI IDENTIFICATIVI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #fff3e0;\"><strong>Targa:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{license_plate}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #fff3e0;\"><strong>Tipo Mezzo:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{vehicle_type}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Marca:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{brand}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Modello:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{model}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Anno:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{year}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Stato:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{status}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Telaio:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; colspan=\"3\">{{chassis_number}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Data Acquisizione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{acquisition_date}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Chilometraggio:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{mileage}} km</td>\n    </tr>\n  </table>\n\n  <!-- Dati Tecnici -->\n  <h3 style=\"background: #ff6f00; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">DATI TECNICI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #fff3e0;\"><strong>Cilindrata:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{engine_displacement}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%; background: #fff3e0;\"><strong>Potenza:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 25%;\">{{power}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Alimentazione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{fuel_type}}</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Posti:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{seats}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Peso:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{weight}} kg</td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #fff3e0;\"><strong>Portata:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{load_capacity}} kg</td>\n    </tr>\n  </table>\n\n  <!-- Scadenze -->\n  <h3 style=\"background: #d32f2f; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">SCADENZE</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm;\">\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 50%; background: #ffebee;\"><strong>Revisione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px; width: 50%;\">{{revision_expiry}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #ffebee;\"><strong>Assicurazione:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{insurance_expiry}}</td>\n    </tr>\n    <tr>\n      <td style=\"border: 1px solid #ccc; padding: 5px; background: #ffebee;\"><strong>Bollo:</strong></td>\n      <td style=\"border: 1px solid #ccc; padding: 5px;\">{{tax_expiry}}</td>\n    </tr>\n  </table>\n\n  <!-- Manutenzioni -->\n  {{#if maintenance}}\n  <h3 style=\"background: #ff6f00; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">STORICO MANUTENZIONI</h3>\n  <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 0.5cm; font-size: 9pt;\">\n    <thead>\n      <tr style=\"background: #fff3e0;\">\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">#</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Data</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Tipo</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: left;\">Descrizione</th>\n        <th style=\"border: 1px solid #ccc; padding: 5px; text-align: right;\">Costo</th>\n      </tr>\n    </thead>\n    <tbody>\n      {{#each maintenance}}\n      <tr>\n        <td style=\"border: 1px solid #ccc; padding: 5px; text-align: center;\">{{@index}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{maintenance_date}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{maintenance_type}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px;\">{{description}}</td>\n        <td style=\"border: 1px solid #ccc; padding: 5px; text-align: right;\">â‚¬ {{cost}}</td>\n      </tr>\n      {{/each}}\n    </tbody>\n  </table>\n  {{/if}}\n\n  <!-- Note -->\n  {{#if notes}}\n  <h3 style=\"background: #ff6f00; color: white; padding: 5px 10px; margin: 0.5cm 0 0.3cm 0;\">NOTE</h3>\n  <div style=\"border: 1px solid #ccc; padding: 10px; background: #fafafa;\">\n    <p style=\"margin: 0;\">{{notes}}</p>\n  </div>\n  {{/if}}\n\n  <!-- Footer -->\n  <div style=\"position: fixed; bottom: 10mm; left: 15mm; right: 15mm; text-align: center; font-size: 8pt; color: #666; border-top: 1px solid #ccc; padding-top: 5px;\">\n    <p style=\"margin: 0;\">{{association.name}} - {{association.website}}</p>\n    <p style=\"margin: 0;\">Documento generato il {{current_date}}</p>\n  </div>\n</div>",
  "css": "@page {\n  size: A4 portrait;\n  margin: 0;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n@media print {\n  body {\n    margin: 0;\n  }\n}"
}
